<h1>Stock Signals</h1>

<p-dataTable [value]="groupedSignals"
             [(selection)]="selectedSignal"
             selectionMode="single"
             (onRowSelect)="onSignalSelect($event)"
             expandableRows="true">

  <p-column expander="true" styleClass="col-icon"></p-column>
  <p-column field="symbol" header="Symbol"></p-column>
  <p-column field="quantity" header="Quantity"></p-column>
  <template let-signal pTemplate="rowexpansion">

    <div class="ui-grid ui-grid-responsive ui-fluid" style="font-size:16px;padding:20px">
      <div class="ui-grid-row">
        <div class="ui-grid-col-3" style="text-align:center">
          <img src="http://www.nasdaq.com/logos/{{signal.symbol}}.GIF">
        </div>
        <div class="ui-grid-col-9">
          <div class="ui-grid ui-grid-responsive ui-grid-pad">
            <p-dataTable [value]="signal.signals" >
              <p-column field="close" header="Close"></p-column>
              <p-column field="movingAvg10" header="Moving Avg 10"></p-column>

              <p-column header="Date">
                <template let-col let-signal="rowData" pTemplate="body">
                  <span>{{signal.dateStr | date :'longDate'}}</span>
                </template>
              </p-column>

            </p-dataTable>
          </div>
        </div>
      </div>
    </div>
  </template>
</p-dataTable>
